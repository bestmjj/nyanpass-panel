Metadata-Version: 2.1
Name: nyanpass-panel
Version: 1.0.0
Summary: A web panel for monitoring and managing Nyanpass services
Home-page: https://github.com/bestmjj/python/nyanpass-panel
Author: Nyanpass
Author-email: Nyanpass Team <example@nyanpass.com>
License: MIT
Project-URL: Homepage, https://github.com/bestmjj/python/nyanpass-panel
Project-URL: Bug Tracker, https://github.com/bestmjj/python/nyanpass-panel/issues
Classifier: Programming Language :: Python :: 3
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Requires-Python: >=3.6
Description-Content-Type: text/markdown
License-File: LICENSE

# Nyanpass Panel

一个用于监控和管理 Nyanpass 服务的 Web 面板。

## 项目结构

```
src/
├── main.py                 # 应用主入口
├── requirements.txt        # 依赖包列表
├── static/                 # 静态文件
│   └── index.html          # 主页
└── nyanpass_panel/         # 核心包
    ├── __init__.py         # 包初始化文件
    ├── app.py              # 核心应用类
    └── requirements.txt    # 依赖包列表（副本）
```

## 功能特性

- 自动获取用户信息和流量统计
- 定时任务调度
- Cloudflare DNS 自动更新
- Telegram 通知
- Web 管理界面

## 安装与运行

### 使用 Docker (推荐)

#### 使用 docker-compose (推荐)

```bash
# 构建并启动服务
make compose-up

# 查看日志
make compose-logs

# 停止服务
make compose-down
```

#### 使用多阶段构建

```bash
# 多阶段构建
make docker-multi-stage-build

# 运行容器
make docker-run
```

#### 使用传统构建

```bash
# 构建镜像
make docker-build

# 运行容器
make docker-run
```

### 本地运行

#### 使用 Make 命令（推荐）

```bash
# 安装依赖
make install

# 运行应用
make run
```

#### 手动安装运行

```bash
cd src
pip install -r requirements.txt
python main.py
```

访问 http://localhost:5000 登录面板。

默认用户和密码将在首次运行时生成并打印到控制台。
请在 `config.json` 中修改认证信息并重启服务。

## Makefile 命令

### 基础命令
- `make` 或 `make install` - 安装依赖
- `make run` - 运行应用
- `make dev` - 运行开发服务器
- `make test` - 运行测试
- `make lint` - 代码检查
- `make format` - 格式化代码
- `make clean` - 清理构建产物

### Docker 命令
- `make docker-build` - 构建 Docker 镜像
- `make docker-run` - 运行 Docker 容器
- `make docker-up` - 构建并运行 Docker 容器
- `make compose-build` - 使用 docker-compose 构建
- `make compose-up` - 使用 docker-compose 启动服务
- `make compose-down` - 停止 docker-compose 服务
- `make compose-logs` - 查看 docker-compose 日志
- `make docker-multi-stage-build` - 多阶段 docker 构建

- `make help` - 显示帮助信息

## 配置

首次运行会自动生成 `config.json` 配置文件：
```json
{
  "auth": {
    "username": "your_username",
    "password": "your_password"
  },
  "timezone": "Asia/Shanghai",
  "jobs": {}
}
```
